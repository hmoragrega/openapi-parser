openapi: 3.0.3
info:
    title: School List API
    description: |
        An unexistent API to query schools.
    contact:
        name: Hilari Moragrega
        url: https://github.com/hmoragrega
        email: hilari@hilarimoragrega.com
    license:
        name: Apache 2.0
        url: https://www.apache.org/licenses/LICENSE-2.0.html
    version: 1.0.0
servers:
    - url: https://hilarimoragrega.com/openapi-parser
      description: Production server
paths:
    - key: /v1/schools
      $ref: resources/schools.yml
      endpoints:
        - method: get
          summary: List schools
          description: |
            Lists the schools.
          tags:
            - Schools
          operationId: List-Schools
          parameters:
            - in: query
              name: next
              description: The cursor position for pagination.
              schema:
                type: integer
            - in: query
              name: per_page
              description: |
                The amount of items to return in the current list (Default: 50. Min: 25, Max: 100).
              schema:
                type: integer
                minimum: 25
                maximum: 100
                default: "50"
          responses:
            - status: "200"
              description: |
                List of **School** resources.
              content:
                application/json:
                    schema:
                        type: object
                        required:
                            - data
                        properties:
                            - key: data
                              type: array
                              items:
                                name: School
                                $ref: schemas/school.yml
                                type: object
                                description: Information about a school.
                                required:
                                    - id
                                    - code
                                    - name
                                    - contact
                                    - address
                                    - modality
                                properties:
                                    - key: id
                                      type: string
                                      description: Unique ID of the office (UUID v4).
                                      format: uuid
                                      pattern: ^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$
                                      readOnly: true
                                    - key: code
                                      type: string
                                      description: |
                                        Unique code of the school (URL safe).
                                      pattern: ^[a-zA-Z]([a-zA-Z0-9]|-(?!-)|\.(?!\.)){1,48}[a-zA-Z0-9]$
                                      minimum: 3
                                      maximum: 50
                                      example: |
                                        ru-moscow-101
                                    - key: name
                                      type: string
                                      description: |
                                        Name of the school
                                        Constraints:
                                          - Minimum length: 3.
                                          - Maximum length: 100.
                                          - Accepts alphanumeric characters, dashes, dots and spaces.
                                      pattern: ^[a-zA-Z][\w\-\.\ ]{1,98}[a-zA-Z0-9]$
                                      example: |
                                        Moscow's International Business School - "Center"
                                    - key: contacts
                                      type: array
                                      description: Contact persons list.
                                      minItems: 1
                                      items:
                                        type: object
                                        description: Person contact information.
                                        required:
                                            - email
                                        properties:
                                            - key: email
                                              type: string
                                              description: Contact email.
                                              format: email
                                            - key: position
                                              type: string
                                              description: Contact person's position.
                                              example: |
                                                Main office secretary.
                                            - key: name
                                              type: string
                                              description: Contact person's name.
                                              example: |
                                                John doe
                                            - key: priority
                                              type: string
                                              enum:
                                                - Primary
                                                - Secondary
                                            - key: phone
                                              type: array
                                              description: Phone numbers.
                                              minItems: 1
                                              maxItems: 5
                                              items:
                                                type: string
                                                example: |
                                                    (555)-1234566789
                                    - key: main_office
                                      name: Address
                                      $ref: schemas/address.yml
                                      type: object
                                      description: Physical address
                                      required:
                                        - street
                                        - city
                                        - country
                                      properties:
                                        - key: street
                                          type: string
                                          description: Name of the street.
                                          example: |
                                            Krylatskaya Ulitsa
                                        - key: number
                                          type: integer
                                          description: Street number.
                                          example: |
                                            22
                                        - key: area-code
                                          type: string
                                          description: Code of the area.
                                          example: |
                                            FRS12-188
                                        - key: city
                                          type: string
                                          description: Name of the city.
                                          example: |
                                            Moscow
                                        - key: country
                                          type: string
                                          description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
                                          pattern: ^[A-Z]{3}$
                                          minimum: 3
                                          maximum: 3
                                          example: |
                                            RUS
                                    - key: campus
                                      type: array
                                      description: Campus locations.
                                      minItems: 1
                                      items:
                                        name: Address
                                        $ref: schemas/address.yml
                                        type: object
                                        description: Physical address
                                        required:
                                            - street
                                            - city
                                            - country
                                        properties:
                                            - key: street
                                              type: string
                                              description: Name of the street.
                                              example: |
                                                Krylatskaya Ulitsa
                                            - key: number
                                              type: integer
                                              description: Street number.
                                              example: |
                                                22
                                            - key: area-code
                                              type: string
                                              description: Code of the area.
                                              example: |
                                                FRS12-188
                                            - key: city
                                              type: string
                                              description: Name of the city.
                                              example: |
                                                Moscow
                                            - key: country
                                              type: string
                                              description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
                                              pattern: ^[A-Z]{3}$
                                              minimum: 3
                                              maximum: 3
                                              example: |
                                                RUS
                                    - key: embed
                                      $ref: embed.yml
                                      type: string
                                      description: Example of an anonymous embeddable schema.
                                      example: |
                                        embedded
                                    - key: foundation_year
                                      type: integer
                                      description: Year of foundation.
                                      example: |
                                        1983
                                    - key: modality
                                      type: string
                                      description: The school education mode.
                                      enum:
                                        - Private
                                        - Public
                                        - Mixed
                                      x-enum:
                                        options:
                                            - title: Private
                                              description: private school.
                                            - title: Public
                                              description: public school.
                                            - title: Mixed
                                              description: public and private.
                                    - key: open
                                      type: boolean
                                      description: |
                                        Indicates whether the schools is accepting new students.
                                      example: |
                                        true
                                    - key: createdAt
                                      type: string
                                      description: |
                                        The date where the record was created.
                                      format: date-time
                                      readOnly: true
                                    - key: updatedAt
                                      type: string
                                      description: |
                                        The last time the record was updated.
                                      Nullable: true
                                      format: date-time
                                      readOnly: true
              headers:
                x-current:
                    schema:
                        type: string
                    description: The canonical link to the current page of responses.
                    example: https://example.com?page=3
                x-next:
                    schema:
                        type: string
                    description: A link to the next page of responses
                    example: https://example.com?page=4
                x-previous:
                    schema:
                        type: string
                    description: A link to the previous page of responses
                    example: https://example.com?page=2
            - $ref: ../responses/errors/401.yml
              status: "401"
              description: |
                Unauthorized - Invalid authorization credentials.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "401"
                        message: "Unauthorized."
            - $ref: ../responses/errors/403.yml
              status: "403"
              description: |
                Forbidden - The caller does not have access to this resource.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "403"
                        message: "Forbidden."
            - $ref: ../responses/errors/404.yml
              status: "404"
              description: |
                Not Found - The resource does not exists.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "404"
                        message: "Not found."
            - $ref: ../responses/errors/405.yml
              status: "405"
              description: |
                Method Not Allowed - The method is not allowed for this resource.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "405"
                        message: "Method Not Allowed."
            - $ref: ../responses/errors/500.yml
              status: "500"
              description: |
                Internal Server Error - There has been an unexpected error processing the request.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "500"
                        message: "Internal server error."
            - $ref: ../responses/errors/503.yml
              status: "503"
              description: |
                Service Unavailable - The service is unavailable.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "503"
                        message: "Service Unavailable."
        - method: post
          summary: Create school
          description: |
            Create new schools.
          tags:
            - Schools
          operationId: Create-School
          requestBody:
            required: true
            content:
                application/json:
                    schema:
                        name: School
                        $ref: schemas/school.yml
                        type: object
                        description: Information about a school.
                        required:
                            - id
                            - code
                            - name
                            - contact
                            - address
                            - modality
                        properties:
                            - key: id
                              type: string
                              description: Unique ID of the office (UUID v4).
                              format: uuid
                              pattern: ^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$
                              readOnly: true
                            - key: code
                              type: string
                              description: |
                                Unique code of the school (URL safe).
                              pattern: ^[a-zA-Z]([a-zA-Z0-9]|-(?!-)|\.(?!\.)){1,48}[a-zA-Z0-9]$
                              minimum: 3
                              maximum: 50
                              example: |
                                ru-moscow-101
                            - key: name
                              type: string
                              description: |
                                Name of the school
                                Constraints:
                                  - Minimum length: 3.
                                  - Maximum length: 100.
                                  - Accepts alphanumeric characters, dashes, dots and spaces.
                              pattern: ^[a-zA-Z][\w\-\.\ ]{1,98}[a-zA-Z0-9]$
                              example: |
                                Moscow's International Business School - "Center"
                            - key: contacts
                              type: array
                              description: Contact persons list.
                              minItems: 1
                              items:
                                type: object
                                description: Person contact information.
                                required:
                                    - email
                                properties:
                                    - key: email
                                      type: string
                                      description: Contact email.
                                      format: email
                                    - key: position
                                      type: string
                                      description: Contact person's position.
                                      example: |
                                        Main office secretary.
                                    - key: name
                                      type: string
                                      description: Contact person's name.
                                      example: |
                                        John doe
                                    - key: priority
                                      type: string
                                      enum:
                                        - Primary
                                        - Secondary
                                    - key: phone
                                      type: array
                                      description: Phone numbers.
                                      minItems: 1
                                      maxItems: 5
                                      items:
                                        type: string
                                        example: |
                                            (555)-1234566789
                            - key: main_office
                              name: Address
                              $ref: schemas/address.yml
                              type: object
                              description: Physical address
                              required:
                                - street
                                - city
                                - country
                              properties:
                                - key: street
                                  type: string
                                  description: Name of the street.
                                  example: |
                                    Krylatskaya Ulitsa
                                - key: number
                                  type: integer
                                  description: Street number.
                                  example: |
                                    22
                                - key: area-code
                                  type: string
                                  description: Code of the area.
                                  example: |
                                    FRS12-188
                                - key: city
                                  type: string
                                  description: Name of the city.
                                  example: |
                                    Moscow
                                - key: country
                                  type: string
                                  description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
                                  pattern: ^[A-Z]{3}$
                                  minimum: 3
                                  maximum: 3
                                  example: |
                                    RUS
                            - key: campus
                              type: array
                              description: Campus locations.
                              minItems: 1
                              items:
                                name: Address
                                $ref: schemas/address.yml
                                type: object
                                description: Physical address
                                required:
                                    - street
                                    - city
                                    - country
                                properties:
                                    - key: street
                                      type: string
                                      description: Name of the street.
                                      example: |
                                        Krylatskaya Ulitsa
                                    - key: number
                                      type: integer
                                      description: Street number.
                                      example: |
                                        22
                                    - key: area-code
                                      type: string
                                      description: Code of the area.
                                      example: |
                                        FRS12-188
                                    - key: city
                                      type: string
                                      description: Name of the city.
                                      example: |
                                        Moscow
                                    - key: country
                                      type: string
                                      description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
                                      pattern: ^[A-Z]{3}$
                                      minimum: 3
                                      maximum: 3
                                      example: |
                                        RUS
                            - key: embed
                              $ref: embed.yml
                              type: string
                              description: Example of an anonymous embeddable schema.
                              example: |
                                embedded
                            - key: foundation_year
                              type: integer
                              description: Year of foundation.
                              example: |
                                1983
                            - key: modality
                              type: string
                              description: The school education mode.
                              enum:
                                - Private
                                - Public
                                - Mixed
                              x-enum:
                                options:
                                    - title: Private
                                      description: private school.
                                    - title: Public
                                      description: public school.
                                    - title: Mixed
                                      description: public and private.
                            - key: open
                              type: boolean
                              description: |
                                Indicates whether the schools is accepting new students.
                              example: |
                                true
                            - key: createdAt
                              type: string
                              description: |
                                The date where the record was created.
                              format: date-time
                              readOnly: true
                            - key: updatedAt
                              type: string
                              description: |
                                The last time the record was updated.
                              Nullable: true
                              format: date-time
                              readOnly: true
          responses:
            - status: "200"
              description: |
                List of **School** resources.
              content:
                application/json:
                    schema:
                        type: object
                        required:
                            - data
                        properties:
                            - key: data
                              type: array
                              items:
                                name: School
                                $ref: schemas/school.yml
                                type: object
                                description: Information about a school.
                                required:
                                    - id
                                    - code
                                    - name
                                    - contact
                                    - address
                                    - modality
                                properties:
                                    - key: id
                                      type: string
                                      description: Unique ID of the office (UUID v4).
                                      format: uuid
                                      pattern: ^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$
                                      readOnly: true
                                    - key: code
                                      type: string
                                      description: |
                                        Unique code of the school (URL safe).
                                      pattern: ^[a-zA-Z]([a-zA-Z0-9]|-(?!-)|\.(?!\.)){1,48}[a-zA-Z0-9]$
                                      minimum: 3
                                      maximum: 50
                                      example: |
                                        ru-moscow-101
                                    - key: name
                                      type: string
                                      description: |
                                        Name of the school
                                        Constraints:
                                          - Minimum length: 3.
                                          - Maximum length: 100.
                                          - Accepts alphanumeric characters, dashes, dots and spaces.
                                      pattern: ^[a-zA-Z][\w\-\.\ ]{1,98}[a-zA-Z0-9]$
                                      example: |
                                        Moscow's International Business School - "Center"
                                    - key: contacts
                                      type: array
                                      description: Contact persons list.
                                      minItems: 1
                                      items:
                                        type: object
                                        description: Person contact information.
                                        required:
                                            - email
                                        properties:
                                            - key: email
                                              type: string
                                              description: Contact email.
                                              format: email
                                            - key: position
                                              type: string
                                              description: Contact person's position.
                                              example: |
                                                Main office secretary.
                                            - key: name
                                              type: string
                                              description: Contact person's name.
                                              example: |
                                                John doe
                                            - key: priority
                                              type: string
                                              enum:
                                                - Primary
                                                - Secondary
                                            - key: phone
                                              type: array
                                              description: Phone numbers.
                                              minItems: 1
                                              maxItems: 5
                                              items:
                                                type: string
                                                example: |
                                                    (555)-1234566789
                                    - key: main_office
                                      name: Address
                                      $ref: schemas/address.yml
                                      type: object
                                      description: Physical address
                                      required:
                                        - street
                                        - city
                                        - country
                                      properties:
                                        - key: street
                                          type: string
                                          description: Name of the street.
                                          example: |
                                            Krylatskaya Ulitsa
                                        - key: number
                                          type: integer
                                          description: Street number.
                                          example: |
                                            22
                                        - key: area-code
                                          type: string
                                          description: Code of the area.
                                          example: |
                                            FRS12-188
                                        - key: city
                                          type: string
                                          description: Name of the city.
                                          example: |
                                            Moscow
                                        - key: country
                                          type: string
                                          description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
                                          pattern: ^[A-Z]{3}$
                                          minimum: 3
                                          maximum: 3
                                          example: |
                                            RUS
                                    - key: campus
                                      type: array
                                      description: Campus locations.
                                      minItems: 1
                                      items:
                                        name: Address
                                        $ref: schemas/address.yml
                                        type: object
                                        description: Physical address
                                        required:
                                            - street
                                            - city
                                            - country
                                        properties:
                                            - key: street
                                              type: string
                                              description: Name of the street.
                                              example: |
                                                Krylatskaya Ulitsa
                                            - key: number
                                              type: integer
                                              description: Street number.
                                              example: |
                                                22
                                            - key: area-code
                                              type: string
                                              description: Code of the area.
                                              example: |
                                                FRS12-188
                                            - key: city
                                              type: string
                                              description: Name of the city.
                                              example: |
                                                Moscow
                                            - key: country
                                              type: string
                                              description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
                                              pattern: ^[A-Z]{3}$
                                              minimum: 3
                                              maximum: 3
                                              example: |
                                                RUS
                                    - key: embed
                                      $ref: embed.yml
                                      type: string
                                      description: Example of an anonymous embeddable schema.
                                      example: |
                                        embedded
                                    - key: foundation_year
                                      type: integer
                                      description: Year of foundation.
                                      example: |
                                        1983
                                    - key: modality
                                      type: string
                                      description: The school education mode.
                                      enum:
                                        - Private
                                        - Public
                                        - Mixed
                                      x-enum:
                                        options:
                                            - title: Private
                                              description: private school.
                                            - title: Public
                                              description: public school.
                                            - title: Mixed
                                              description: public and private.
                                    - key: open
                                      type: boolean
                                      description: |
                                        Indicates whether the schools is accepting new students.
                                      example: |
                                        true
                                    - key: createdAt
                                      type: string
                                      description: |
                                        The date where the record was created.
                                      format: date-time
                                      readOnly: true
                                    - key: updatedAt
                                      type: string
                                      description: |
                                        The last time the record was updated.
                                      Nullable: true
                                      format: date-time
                                      readOnly: true
            - $ref: ../responses/errors/400.yml
              status: "400"
              description: |
                Bad request - The request cannot be processed
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "400"
                        message: "Bad request."
            - $ref: ../responses/errors/401.yml
              status: "401"
              description: |
                Unauthorized - Invalid authorization credentials.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "401"
                        message: "Unauthorized."
            - $ref: ../responses/errors/403.yml
              status: "403"
              description: |
                Forbidden - The caller does not have access to this resource.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "403"
                        message: "Forbidden."
            - $ref: ../responses/errors/404.yml
              status: "404"
              description: |
                Not Found - The resource does not exists.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "404"
                        message: "Not found."
            - $ref: ../responses/errors/405.yml
              status: "405"
              description: |
                Method Not Allowed - The method is not allowed for this resource.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "405"
                        message: "Method Not Allowed."
            - $ref: ../responses/errors/422.yml
              status: "422"
              description: |
                Unprocessable Entity - The payload syntax is valid but there is a logic error.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "422"
                        message: "Unprocessable Entity."
            - $ref: ../responses/errors/500.yml
              status: "500"
              description: |
                Internal Server Error - There has been an unexpected error processing the request.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "500"
                        message: "Internal server error."
            - $ref: ../responses/errors/503.yml
              status: "503"
              description: |
                Service Unavailable - The service is unavailable.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "503"
                        message: "Service Unavailable."
          callbacks:
            - name: schoolUpdated
              url: '{$request.body#/callbackUrl}'
              endpoints:
                - method: post
                  requestBody:
                    required: true
                    content:
                        application/json:
                            schema:
                                name: School
                                $ref: schemas/school.yml
                                type: object
                                description: Information about a school.
                                required:
                                    - id
                                    - code
                                    - name
                                    - contact
                                    - address
                                    - modality
                                properties:
                                    - key: id
                                      type: string
                                      description: Unique ID of the office (UUID v4).
                                      format: uuid
                                      pattern: ^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$
                                      readOnly: true
                                    - key: code
                                      type: string
                                      description: |
                                        Unique code of the school (URL safe).
                                      pattern: ^[a-zA-Z]([a-zA-Z0-9]|-(?!-)|\.(?!\.)){1,48}[a-zA-Z0-9]$
                                      minimum: 3
                                      maximum: 50
                                      example: |
                                        ru-moscow-101
                                    - key: name
                                      type: string
                                      description: |
                                        Name of the school
                                        Constraints:
                                          - Minimum length: 3.
                                          - Maximum length: 100.
                                          - Accepts alphanumeric characters, dashes, dots and spaces.
                                      pattern: ^[a-zA-Z][\w\-\.\ ]{1,98}[a-zA-Z0-9]$
                                      example: |
                                        Moscow's International Business School - "Center"
                                    - key: contacts
                                      type: array
                                      description: Contact persons list.
                                      minItems: 1
                                      items:
                                        type: object
                                        description: Person contact information.
                                        required:
                                            - email
                                        properties:
                                            - key: email
                                              type: string
                                              description: Contact email.
                                              format: email
                                            - key: position
                                              type: string
                                              description: Contact person's position.
                                              example: |
                                                Main office secretary.
                                            - key: name
                                              type: string
                                              description: Contact person's name.
                                              example: |
                                                John doe
                                            - key: priority
                                              type: string
                                              enum:
                                                - Primary
                                                - Secondary
                                            - key: phone
                                              type: array
                                              description: Phone numbers.
                                              minItems: 1
                                              maxItems: 5
                                              items:
                                                type: string
                                                example: |
                                                    (555)-1234566789
                                    - key: main_office
                                      name: Address
                                      $ref: schemas/address.yml
                                      type: object
                                      description: Physical address
                                      required:
                                        - street
                                        - city
                                        - country
                                      properties:
                                        - key: street
                                          type: string
                                          description: Name of the street.
                                          example: |
                                            Krylatskaya Ulitsa
                                        - key: number
                                          type: integer
                                          description: Street number.
                                          example: |
                                            22
                                        - key: area-code
                                          type: string
                                          description: Code of the area.
                                          example: |
                                            FRS12-188
                                        - key: city
                                          type: string
                                          description: Name of the city.
                                          example: |
                                            Moscow
                                        - key: country
                                          type: string
                                          description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
                                          pattern: ^[A-Z]{3}$
                                          minimum: 3
                                          maximum: 3
                                          example: |
                                            RUS
                                    - key: campus
                                      type: array
                                      description: Campus locations.
                                      minItems: 1
                                      items:
                                        name: Address
                                        $ref: schemas/address.yml
                                        type: object
                                        description: Physical address
                                        required:
                                            - street
                                            - city
                                            - country
                                        properties:
                                            - key: street
                                              type: string
                                              description: Name of the street.
                                              example: |
                                                Krylatskaya Ulitsa
                                            - key: number
                                              type: integer
                                              description: Street number.
                                              example: |
                                                22
                                            - key: area-code
                                              type: string
                                              description: Code of the area.
                                              example: |
                                                FRS12-188
                                            - key: city
                                              type: string
                                              description: Name of the city.
                                              example: |
                                                Moscow
                                            - key: country
                                              type: string
                                              description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
                                              pattern: ^[A-Z]{3}$
                                              minimum: 3
                                              maximum: 3
                                              example: |
                                                RUS
                                    - key: embed
                                      $ref: embed.yml
                                      type: string
                                      description: Example of an anonymous embeddable schema.
                                      example: |
                                        embedded
                                    - key: foundation_year
                                      type: integer
                                      description: Year of foundation.
                                      example: |
                                        1983
                                    - key: modality
                                      type: string
                                      description: The school education mode.
                                      enum:
                                        - Private
                                        - Public
                                        - Mixed
                                      x-enum:
                                        options:
                                            - title: Private
                                              description: private school.
                                            - title: Public
                                              description: public school.
                                            - title: Mixed
                                              description: public and private.
                                    - key: open
                                      type: boolean
                                      description: |
                                        Indicates whether the schools is accepting new students.
                                      example: |
                                        true
                                    - key: createdAt
                                      type: string
                                      description: |
                                        The date where the record was created.
                                      format: date-time
                                      readOnly: true
                                    - key: updatedAt
                                      type: string
                                      description: |
                                        The last time the record was updated.
                                      Nullable: true
                                      format: date-time
                                      readOnly: true
                  responses:
                    - status: "202"
                      description: |
                        Request accepted
    - key: /v1/schools/{uuid}
      $ref: resources/schools-{uuid}.yml
      endpoints:
        - method: get
          summary: Get School Method
          description: |
            Retrieves a school resource using its ID.
          tags:
            - Schools
          operationId: Get-School-By-UUID
          parameters:
            - in: path
              name: uuid
              required: true
              description: School unique identifier.
              schema:
                type: string
                format: uuid
          responses:
            - status: "200"
              description: |
                **School** resource.
              content:
                application/json:
                    schema:
                        name: School
                        $ref: schemas/school.yml
                        type: object
                        description: Information about a school.
                        required:
                            - id
                            - code
                            - name
                            - contact
                            - address
                            - modality
                        properties:
                            - key: id
                              type: string
                              description: Unique ID of the office (UUID v4).
                              format: uuid
                              pattern: ^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$
                              readOnly: true
                            - key: code
                              type: string
                              description: |
                                Unique code of the school (URL safe).
                              pattern: ^[a-zA-Z]([a-zA-Z0-9]|-(?!-)|\.(?!\.)){1,48}[a-zA-Z0-9]$
                              minimum: 3
                              maximum: 50
                              example: |
                                ru-moscow-101
                            - key: name
                              type: string
                              description: |
                                Name of the school
                                Constraints:
                                  - Minimum length: 3.
                                  - Maximum length: 100.
                                  - Accepts alphanumeric characters, dashes, dots and spaces.
                              pattern: ^[a-zA-Z][\w\-\.\ ]{1,98}[a-zA-Z0-9]$
                              example: |
                                Moscow's International Business School - "Center"
                            - key: contacts
                              type: array
                              description: Contact persons list.
                              minItems: 1
                              items:
                                type: object
                                description: Person contact information.
                                required:
                                    - email
                                properties:
                                    - key: email
                                      type: string
                                      description: Contact email.
                                      format: email
                                    - key: position
                                      type: string
                                      description: Contact person's position.
                                      example: |
                                        Main office secretary.
                                    - key: name
                                      type: string
                                      description: Contact person's name.
                                      example: |
                                        John doe
                                    - key: priority
                                      type: string
                                      enum:
                                        - Primary
                                        - Secondary
                                    - key: phone
                                      type: array
                                      description: Phone numbers.
                                      minItems: 1
                                      maxItems: 5
                                      items:
                                        type: string
                                        example: |
                                            (555)-1234566789
                            - key: main_office
                              name: Address
                              $ref: schemas/address.yml
                              type: object
                              description: Physical address
                              required:
                                - street
                                - city
                                - country
                              properties:
                                - key: street
                                  type: string
                                  description: Name of the street.
                                  example: |
                                    Krylatskaya Ulitsa
                                - key: number
                                  type: integer
                                  description: Street number.
                                  example: |
                                    22
                                - key: area-code
                                  type: string
                                  description: Code of the area.
                                  example: |
                                    FRS12-188
                                - key: city
                                  type: string
                                  description: Name of the city.
                                  example: |
                                    Moscow
                                - key: country
                                  type: string
                                  description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
                                  pattern: ^[A-Z]{3}$
                                  minimum: 3
                                  maximum: 3
                                  example: |
                                    RUS
                            - key: campus
                              type: array
                              description: Campus locations.
                              minItems: 1
                              items:
                                name: Address
                                $ref: schemas/address.yml
                                type: object
                                description: Physical address
                                required:
                                    - street
                                    - city
                                    - country
                                properties:
                                    - key: street
                                      type: string
                                      description: Name of the street.
                                      example: |
                                        Krylatskaya Ulitsa
                                    - key: number
                                      type: integer
                                      description: Street number.
                                      example: |
                                        22
                                    - key: area-code
                                      type: string
                                      description: Code of the area.
                                      example: |
                                        FRS12-188
                                    - key: city
                                      type: string
                                      description: Name of the city.
                                      example: |
                                        Moscow
                                    - key: country
                                      type: string
                                      description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
                                      pattern: ^[A-Z]{3}$
                                      minimum: 3
                                      maximum: 3
                                      example: |
                                        RUS
                            - key: embed
                              $ref: embed.yml
                              type: string
                              description: Example of an anonymous embeddable schema.
                              example: |
                                embedded
                            - key: foundation_year
                              type: integer
                              description: Year of foundation.
                              example: |
                                1983
                            - key: modality
                              type: string
                              description: The school education mode.
                              enum:
                                - Private
                                - Public
                                - Mixed
                              x-enum:
                                options:
                                    - title: Private
                                      description: private school.
                                    - title: Public
                                      description: public school.
                                    - title: Mixed
                                      description: public and private.
                            - key: open
                              type: boolean
                              description: |
                                Indicates whether the schools is accepting new students.
                              example: |
                                true
                            - key: createdAt
                              type: string
                              description: |
                                The date where the record was created.
                              format: date-time
                              readOnly: true
                            - key: updatedAt
                              type: string
                              description: |
                                The last time the record was updated.
                              Nullable: true
                              format: date-time
                              readOnly: true
            - $ref: ../responses/errors/401.yml
              status: "401"
              description: |
                Unauthorized - Invalid authorization credentials.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "401"
                        message: "Unauthorized."
            - $ref: ../responses/errors/403.yml
              status: "403"
              description: |
                Forbidden - The caller does not have access to this resource.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "403"
                        message: "Forbidden."
            - $ref: ../responses/errors/404.yml
              status: "404"
              description: |
                Not Found - The resource does not exists.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "404"
                        message: "Not found."
            - $ref: ../responses/errors/405.yml
              status: "405"
              description: |
                Method Not Allowed - The method is not allowed for this resource.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "405"
                        message: "Method Not Allowed."
            - $ref: ../responses/errors/500.yml
              status: "500"
              description: |
                Internal Server Error - There has been an unexpected error processing the request.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "500"
                        message: "Internal server error."
            - $ref: ../responses/errors/503.yml
              status: "503"
              description: |
                Service Unavailable - The service is unavailable.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "503"
                        message: "Service Unavailable."
    - key: /v1/schools/notify
      $ref: resources/schools-notify.yml
      endpoints:
        - method: post
          summary: Notify Schools
          description: |
            Notify all schools.
          tags:
            - Schools
          operationId: Notify-School
          requestBody:
            required: true
            content:
                application/json:
                    schema:
                        name: SchoolNotification
                        $ref: schemas/school-notification.yml
                        type: object
                        description: Notification for School
                        required:
                            - message
                        properties:
                            - key: message
                              type: string
                              description: The message to send to school's contact people.
          responses:
            - status: "202"
              description: |
                Schools have been notified.
            - $ref: ../responses/errors/400.yml
              status: "400"
              description: |
                Bad request - The request cannot be processed
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "400"
                        message: "Bad request."
            - $ref: ../responses/errors/401.yml
              status: "401"
              description: |
                Unauthorized - Invalid authorization credentials.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "401"
                        message: "Unauthorized."
            - $ref: ../responses/errors/403.yml
              status: "403"
              description: |
                Forbidden - The caller does not have access to this resource.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "403"
                        message: "Forbidden."
            - $ref: ../responses/errors/404.yml
              status: "404"
              description: |
                Not Found - The resource does not exists.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "404"
                        message: "Not found."
            - $ref: ../responses/errors/405.yml
              status: "405"
              description: |
                Method Not Allowed - The method is not allowed for this resource.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "405"
                        message: "Method Not Allowed."
            - $ref: ../responses/errors/422.yml
              status: "422"
              description: |
                Unprocessable Entity - The payload syntax is valid but there is a logic error.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "422"
                        message: "Unprocessable Entity."
            - $ref: ../responses/errors/500.yml
              status: "500"
              description: |
                Internal Server Error - There has been an unexpected error processing the request.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "500"
                        message: "Internal server error."
            - $ref: ../responses/errors/503.yml
              status: "503"
              description: |
                Service Unavailable - The service is unavailable.
              content:
                application/json:
                    schema:
                        name: Error
                        $ref: schemas/error.yml
                        type: object
                        required:
                            - code
                            - message
                        properties:
                            - key: code
                              type: string
                              description: Unique error code identifier.
                            - key: message
                              type: string
                              description: Error message.
                    example: |
                        code: "503"
                        message: "Service Unavailable."
schemas:
    - name: School
      $ref: schemas/school.yml
      type: object
      description: Information about a school.
      required:
        - id
        - code
        - name
        - contact
        - address
        - modality
      properties:
        - key: id
          type: string
          description: Unique ID of the office (UUID v4).
          format: uuid
          pattern: ^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$
          readOnly: true
        - key: code
          type: string
          description: |
            Unique code of the school (URL safe).
          pattern: ^[a-zA-Z]([a-zA-Z0-9]|-(?!-)|\.(?!\.)){1,48}[a-zA-Z0-9]$
          minimum: 3
          maximum: 50
          example: |
            ru-moscow-101
        - key: name
          type: string
          description: |
            Name of the school
            Constraints:
              - Minimum length: 3.
              - Maximum length: 100.
              - Accepts alphanumeric characters, dashes, dots and spaces.
          pattern: ^[a-zA-Z][\w\-\.\ ]{1,98}[a-zA-Z0-9]$
          example: |
            Moscow's International Business School - "Center"
        - key: contacts
          type: array
          description: Contact persons list.
          minItems: 1
          items:
            type: object
            description: Person contact information.
            required:
                - email
            properties:
                - key: email
                  type: string
                  description: Contact email.
                  format: email
                - key: position
                  type: string
                  description: Contact person's position.
                  example: |
                    Main office secretary.
                - key: name
                  type: string
                  description: Contact person's name.
                  example: |
                    John doe
                - key: priority
                  type: string
                  enum:
                    - Primary
                    - Secondary
                - key: phone
                  type: array
                  description: Phone numbers.
                  minItems: 1
                  maxItems: 5
                  items:
                    type: string
                    example: |
                        (555)-1234566789
        - key: main_office
          name: Address
          $ref: schemas/address.yml
          type: object
          description: Physical address
          required:
            - street
            - city
            - country
          properties:
            - key: street
              type: string
              description: Name of the street.
              example: |
                Krylatskaya Ulitsa
            - key: number
              type: integer
              description: Street number.
              example: |
                22
            - key: area-code
              type: string
              description: Code of the area.
              example: |
                FRS12-188
            - key: city
              type: string
              description: Name of the city.
              example: |
                Moscow
            - key: country
              type: string
              description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
              pattern: ^[A-Z]{3}$
              minimum: 3
              maximum: 3
              example: |
                RUS
        - key: campus
          type: array
          description: Campus locations.
          minItems: 1
          items:
            name: Address
            $ref: schemas/address.yml
            type: object
            description: Physical address
            required:
                - street
                - city
                - country
            properties:
                - key: street
                  type: string
                  description: Name of the street.
                  example: |
                    Krylatskaya Ulitsa
                - key: number
                  type: integer
                  description: Street number.
                  example: |
                    22
                - key: area-code
                  type: string
                  description: Code of the area.
                  example: |
                    FRS12-188
                - key: city
                  type: string
                  description: Name of the city.
                  example: |
                    Moscow
                - key: country
                  type: string
                  description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
                  pattern: ^[A-Z]{3}$
                  minimum: 3
                  maximum: 3
                  example: |
                    RUS
        - key: embed
          $ref: embed.yml
          type: string
          description: Example of an anonymous embeddable schema.
          example: |
            embedded
        - key: foundation_year
          type: integer
          description: Year of foundation.
          example: |
            1983
        - key: modality
          type: string
          description: The school education mode.
          enum:
            - Private
            - Public
            - Mixed
          x-enum:
            options:
                - title: Private
                  description: private school.
                - title: Public
                  description: public school.
                - title: Mixed
                  description: public and private.
        - key: open
          type: boolean
          description: |
            Indicates whether the schools is accepting new students.
          example: |
            true
        - key: createdAt
          type: string
          description: |
            The date where the record was created.
          format: date-time
          readOnly: true
        - key: updatedAt
          type: string
          description: |
            The last time the record was updated.
          Nullable: true
          format: date-time
          readOnly: true
    - name: SchoolNotification
      $ref: schemas/school-notification.yml
      type: object
      description: Notification for School
      required:
        - message
      properties:
        - key: message
          type: string
          description: The message to send to school's contact people.
    - name: Address
      $ref: schemas/address.yml
      type: object
      description: Physical address
      required:
        - street
        - city
        - country
      properties:
        - key: street
          type: string
          description: Name of the street.
          example: |
            Krylatskaya Ulitsa
        - key: number
          type: integer
          description: Street number.
          example: |
            22
        - key: area-code
          type: string
          description: Code of the area.
          example: |
            FRS12-188
        - key: city
          type: string
          description: Name of the city.
          example: |
            Moscow
        - key: country
          type: string
          description: Country code in [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) format.
          pattern: ^[A-Z]{3}$
          minimum: 3
          maximum: 3
          example: |
            RUS
    - name: Error
      $ref: schemas/error.yml
      type: object
      required:
        - code
        - message
      properties:
        - key: code
          type: string
          description: Unique error code identifier.
        - key: message
          type: string
          description: Error message.
parameters:
    - in: query
      name: next
      description: The cursor position for pagination.
      schema:
        type: integer
    - in: query
      name: per_page
      description: |
        The amount of items to return in the current list (Default: 50. Min: 25, Max: 100).
      schema:
        type: integer
        minimum: 25
        maximum: 100
        default: "50"
